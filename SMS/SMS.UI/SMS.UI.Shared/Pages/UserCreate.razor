@page "/users/create"
@using SMS.Contracts.Users
@using System.Net.Http.Json

<h3>Create User</h3>

<EditForm Model="createUserRequest" OnValidSubmit="HandleCreate">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-group">
        <label for="username">Username</label>
        <InputText id="username" class="form-control" @bind-Value="createUserRequest.Username" />
    </div>

    <div class="form-group">
        <label for="password">Password</label>
        <InputText id="password" type="password" class="form-control" @bind-Value="createUserRequest.Password" />
    </div>

    <div class="form-group">
        <label for="confirmPassword">Confirm Password</label>
        <InputText id="confirmPassword" type="password" class="form-control" @bind-Value="createUserRequest.ConfirmPassword" />
    </div>

    <div class="form-group">
        <label for="firstName">First Name</label>
        <InputText id="firstName" class="form-control" @bind-Value="createUserRequest.FirstName" />
    </div>

    <div class="form-group">
        <label for="lastName">Last Name</label>
        <InputText id="lastName" class="form-control" @bind-Value="createUserRequest.LastName" />
    </div>

    <div class="form-group">
        <label for="role">Role</label>
        <InputSelect id="role" class="form-control" @bind-Value="createUserRequest.RoleId">
            @if (roles != null)
            {
                @foreach (var role in roles)
                {
                    <option value="@role.Id">@role.Name</option>
                }
            }
        </InputSelect>
    </div>

    <button type="submit" class="btn btn-primary">Create</button>
</EditForm>

@if (!string.IsNullOrEmpty(message))
{
    <div class="alert alert-info">@message</div>
}
